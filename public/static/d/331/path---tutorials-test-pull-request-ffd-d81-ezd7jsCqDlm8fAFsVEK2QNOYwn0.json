{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"Ghost Docs","description":"Everything you need to know about working with the Ghost professional publishing platform."}},"ghostPost":{"title":"Test any open source pull request in seconds","slug":"test-pull-request","featured":false,"feature_image":null,"created_at_pretty":"22 March, 2019","published_at_pretty":"31 July, 2018","updated_at_pretty":"22 March, 2019","created_at":"2019-03-22T11:54:59.000+00:00","published_at":"2018-07-31T11:54:00.000+00:00","updated_at":"2019-03-22T12:05:41.000+00:00","excerpt":"Ever wished it was easier to test out Pull Requests on the Ghost repo? Follow this guide to get your environment setup to test a PR with a single command.","meta_title":"Test any open source pull request in seconds â€“ Tutorial","meta_description":"Ever wished it was easier to test out Pull Requests on the Ghost repo? Follow this guide to get your environment setup to test a PR with a single command.","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"Configuration","slug":"configuration","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"public"},"tags":[{"name":"Configuration","slug":"configuration","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"public"},{"name":"#tutorial","slug":"hash-tutorial","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"}],"plaintext":"Have you ever taken a look at the list of Pull Requests on the Ghost\n[http://github.com/TryGhost/Ghost]  repo and wished it was easier to try them\nout? The following post details how to setup your environment so that testing a\nPR is as easy as:\n\n> $ pr 3361\nEdit the git config file\nThis step comes from a gist [https://gist.github.com/piscisaureus/3342247]  by\nBert Belder, @piscisaureus [https://github.com/piscisaureus]:\n\nYou need to edit the git config file for your locally checked out Ghost\nrepository. To do this locate the file .git/config  inside your local clone and\nopen it for editing. Something like:\n\n> $ cd Ghost && vim .git/config\nInside your git config file, you should see an entry for the remote Ghost repo\nwhich looks a bit like this:\n\n[remote \"upstream\"]\n  url = git@github.com:TryGhost/Ghost.git\n  fetch = +refs/heads/*:refs/remotes/upstream/*\n\n\nWe're going to add a second fetch  line to this block, as shown here:\n\n[remote \"upstream\"]\n  url = git@github.com:TryGhost/Ghost.git\n  fetch = +refs/heads/*:refs/remotes/upstream/*\n  fetch = +refs/pull/*/head:refs/remotes/upstream/pr/*\n\n\nTip:  If you're using the vim editor, you'll need to type i for insert mode, so\nthat you can edit the file and use your keyboard to navigate around.\n\nGo ahead and add this line, save and exit the file. git fetch upstream  will now\nfetch any new PRs as a branch called pr/####. Typing git checkout pr/3361  will\nswitch you onto a branch containing the changes from PR #3361.\n\nFrom here you will still need to run a set of commands to get Ghost running,\nincluding npm install, grunt init  and npm start. \n\nTip:  If you've read all this and gotten yourself stuck in the vim editor, you\nneed to type ESC : wq Enter to save and exit.\n\nSet up a bash alias\nBash aliases let you create your own name for a command or set of commands, so\nby adding a bash alias, we can make all of this as easy as typing:\n\n> $ pr 3361\nSetting up a bash alias takes just a few seconds, and will save you a lot of\ntime and energy remembering and typing arcane strings of commands.\n\nYou need to open your bash config file for editing. If you use git bash on\nWindows [http://git-scm.com/download/win]  the file you need to edit will likely\nbe ~/.bashrc. For terminal on Mac the code is the same but the file you'll need\nto edit is usually ~/.bash_profile. In both cases ~  means your user directory.\n\nFind your bash config file, and open it for editing:\n\n> $ vim ~/.bashrc\nPaste the following code anywhere in that file:\n\nalias pr='f() { git fetch upstream && git checkout pr/\"$1\" && npm install && grunt init && npm start; }; f'\n\n\nTip:  If you work on multiple projects, whilst you're here perhaps change the\nalias to ghostpr  rather than just pr, and setup a similar command for your\nother projects?\n\nReload the config\nTo finish up, save and exit the bash config file. Your new command won't work\nuntil you reload the config by either opening a new terminal / bash window or by\nexecuting it with a command like this (notice the dot):\n\n> $ . ~/.bashrc\nNow you can easily test Ghost pull requests\n[https://github.com/TryGhost/Ghost/pulls]!","html":"<p>Have you ever taken a look at the list of Pull Requests on the <a href=\"http://github.com/TryGhost/Ghost\">Ghost</a> repo and wished it was easier to try them out? The following post details how to setup your environment so that testing a PR is as easy as:</p><blockquote>$ pr 3361</blockquote><h2 id=\"edit-the-git-config-file\">Edit the git config file</h2><p>This step comes from a <a href=\"https://gist.github.com/piscisaureus/3342247\">gist</a> by Bert Belder, <a href=\"https://github.com/piscisaureus\">@piscisaureus</a>:</p><p>You need to edit the git config file for your locally checked out Ghost repository. To do this locate the file <code>.git/config</code> inside your local clone and open it for editing. Something like:</p><blockquote>$ cd Ghost &amp;&amp; vim .git/config</blockquote><p>Inside your git config file, you should see an entry for the remote Ghost repo which looks a bit like this:</p><!--kg-card-begin: code--><pre><code>[remote \"upstream\"]\n  url = git@github.com:TryGhost/Ghost.git\n  fetch = +refs/heads/*:refs/remotes/upstream/*\n</code></pre><!--kg-card-end: code--><p>We're going to add a second <code>fetch</code> line to this block, as shown here:</p><!--kg-card-begin: code--><pre><code>[remote \"upstream\"]\n  url = git@github.com:TryGhost/Ghost.git\n  fetch = +refs/heads/*:refs/remotes/upstream/*\n  fetch = +refs/pull/*/head:refs/remotes/upstream/pr/*\n</code></pre><!--kg-card-end: code--><p><em><strong>Tip:</strong> If you're using the vim editor, you'll need to type i for insert mode, so that you can edit the file and use your keyboard to navigate around.</em></p><p>Go ahead and add this line, save and exit the file. <code>git fetch upstream</code> will now fetch any new PRs as a branch called <code>pr/####</code>. Typing <code>git checkout pr/3361</code> will switch you onto a branch containing the changes from PR #3361.</p><p>From here you will still need to run a set of commands to get Ghost running, including <code>npm install</code>, <code>grunt init</code> and <code>npm start</code>. </p><p><em><strong>Tip:</strong> If you've read all this and gotten yourself stuck in the vim editor, you need to type ESC : wq Enter to save and exit.</em></p><h2 id=\"set-up-a-bash-alias\">Set up a bash alias</h2><p>Bash aliases let you create your own name for a command or set of commands, so by adding a bash alias, we can make all of this as easy as typing:</p><blockquote>$ pr 3361</blockquote><p>Setting up a bash alias takes just a few seconds, and will save you a lot of time and energy remembering and typing arcane strings of commands.</p><p>You need to open your bash config file for editing. If you use <a href=\"http://git-scm.com/download/win\">git bash on Windows</a> the file you need to edit will likely be <code>~/.bashrc</code>. For terminal on Mac the code is the same but the file you'll need to edit is usually <code>~/.bash_profile</code>. In both cases <code>~</code> means your user directory.</p><p>Find your bash config file, and open it for editing:</p><blockquote>$ vim ~/.bashrc</blockquote><p>Paste the following code anywhere in that file:</p><!--kg-card-begin: code--><pre><code>alias pr='f() { git fetch upstream &amp;&amp; git checkout pr/\"$1\" &amp;&amp; npm install &amp;&amp; grunt init &amp;&amp; npm start; }; f'\n</code></pre><!--kg-card-end: code--><p><em><strong>Tip:</strong> If you work on multiple projects, whilst you're here perhaps change the alias to <code>ghostpr</code> rather than just <code>pr</code>, and setup a similar command for your other projects?</em></p><h2 id=\"reload-the-config\">Reload the config</h2><p>To finish up, save and exit the bash config file. Your new command won't work until you reload the config by either opening a new terminal / bash window or by executing it with a command like this (notice the dot):</p><blockquote>$ . ~/.bashrc</blockquote><p>Now you can easily test <a href=\"https://github.com/TryGhost/Ghost/pulls\">Ghost pull requests</a>!</p>","custom_template":null,"url":"https://docs.ghost.io/test-pull-request/","uuid":"e1775a89-27f7-4527-a027-ae594d88fea3","page":false,"codeinjection_foot":null,"codeinjection_head":null,"comment_id":"5c94cd13cb358d00c095d357"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"test-pull-request","relatedPosts":[{"node":{"slug":"implementing-redirects","title":"Implementing redirects","url":"/tutorials/implementing-redirects/","published_at":"2018-10-03T14:31:39.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/configuration.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"configuration","name":"Configuration","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"creating-content-collections","title":"Building content collections with distinct routes","url":"/tutorials/creating-content-collections/","published_at":"2018-10-12T06:26:51.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/dynamic-routing-4.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"google-custom-search","title":"Add Google Custom Search to Ghost","url":"/tutorials/google-custom-search/","published_at":"2018-11-15T12:04:42.000+00:00","feature_image":null,"tags":[{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"custom-page-templates","title":"Custom post templates","url":"/tutorials/custom-page-templates/","published_at":"2018-10-10T10:49:27.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/themes.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"custom-rss-feed","title":"How to make an iTunes Podcast RSS feed with Ghost","url":"/tutorials/custom-rss-feed/","published_at":"2018-12-06T10:13:53.000+00:00","feature_image":null,"tags":[{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"tutorials"}}