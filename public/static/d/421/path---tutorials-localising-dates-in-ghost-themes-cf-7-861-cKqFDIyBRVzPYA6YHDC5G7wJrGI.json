{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"Ghost Docs","description":"Everything you need to know about working with the Ghost professional publishing platform."}},"ghostPost":{"title":"Localising dates in Ghost themes","slug":"localising-dates-in-ghost-themes","featured":false,"feature_image":null,"created_at_pretty":"22 March, 2019","published_at_pretty":"31 July, 2018","updated_at_pretty":"22 March, 2019","created_at":"2019-03-22T11:02:12.000+00:00","published_at":"2018-07-31T11:54:00.000+00:00","updated_at":"2019-03-22T12:09:31.000+00:00","excerpt":"By default, Ghost outputs dates in English using the timezone of the server hosting your site. Find out how to change this using jQuery!","meta_title":"Localising dates in Ghost Themes – Tutorial","meta_description":"By default, Ghost outputs dates in English using the timezone of the server hosting your site. Find out how to change this using jQuery!","og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Kym Ellis","slug":"kym","bio":"Technical marketing lead","profile_image":"//www.gravatar.com/avatar/65b8e98952305f0ae0f90c7439718680?s=250&d=mm&r=x","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"Themes","slug":"themes","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"public"},"tags":[{"name":"Themes","slug":"themes","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"public"},{"name":"#tutorial","slug":"hash-tutorial","description":null,"feature_image":null,"meta_description":null,"meta_title":null,"visibility":"internal"}],"plaintext":"Ghost, by default, outputs dates in English using the timezone of the server\nhosting your site. It is possible to change both the language and the timezone\nused to output dates in your theme using jQuery, moment.js\n[http://momentjs.com/]  and moment.js timezone [http://momentjs.com/timezone/].\n\nIn the following guide, you'll learn how to switch the locale to German and also\nhow to output dates converted to the 'Europe/Berlin' timezone.\n\n> Note: This guide assumes you're comfortable editing a Ghost theme. If you need\nhelp getting started with theming for Ghost, go to the theme docs\n[https://docs.ghost.org/api/handlebars-themes/].\nProviding dates to moment\nFor this to work, you'll first need to make sure that your theme is outputting\ndates in a format that moment can pick up and manipulate. This means using\nGhost's date  helper to output a complete machine-readable date in an HTML\nattribute.\n\nFor example, if you're using the Casper theme, change the <time></time>  HTML\nblocks to look like this:\n\n<time class=\"post-date\" datetime=\"{{date\nformat=\"YYYY-MM-DDTHH:mm:ss.SS\\Z\"}}\"></time>\n\nThe format YYYY-MM-DDTHH:mm:ss.SS\\Z  can be understood by moment.js. Note that\nwe're only outputting it as an attribute, rather than rendering the date on the\npage. Using an html data attribute\n[https://developer.mozilla.org/en/docs/Web/Guide/HTML/Using_data_attributes] \nwould also work here.\n\nInclude jQuery\nMany Ghost themes, including the default theme Casper, already have jQuery\nincluded. If you theme doesn't yet have jQuery you'll need to add it, or see the\nsection on improving performance  at the end of this guide for alternatives.\n\nTo include jQuery, add the following snippet to the default.hbs  file of your\ntheme, somewhere near {{ghost_foot}}  or just above the </body>  tag:\n\n<script type=\"text/javascript\"\nsrc=\"https://code.jquery.com/jquery-1.11.3.min.js\"></script>\n\nChange your locale\nTo change your local, you'll need to grab both the moment.js file, and the local\nyou want and include them in your theme.I recommend grabbing these from \ncdnjs.cloudflare.com [http://cdnjs.com/libraries/moment], and placing them in\nyour default.hbs  underneath where you added jQuery:\n\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js\"></script>\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/locale/de.js\"></script>\n\n\nOnce these are included, you'll need to add a final piece of JavaScript just\nbeneath where you included jQuery and the moment files.\n\nThis code first sets the moment locale to 'de'. Then it loops through each date\non the page, and replaces the content of the tag with a brand new, correctly\nlocalised date using moment:\n\n<script type=\"text/javascript\">\n$(document).ready(function () {\n  moment.locale('de');\n\n  $('.post-date').each(function (i, date) {\n    var $date = $(date);\n        \n    $date.html(\n      moment($date.attr('datetime'))\n        .format('LLL')\n    );\n  });\n});\n</script>\n\n\nLLL  is a format specific to the locale provided, you can look up how moment\nwill format dates for your local, by visiting the moment locale docs\n[http://momentjs.com/#multiple-locale-support]  and choosing your locale.\n\nChange your timezone\nThe majority of Ghost themes don't output the time a post was published. For\nsome blogs with a high volume of posts, distinguishing posts based on time is\nimportant and for these blogs, Ghost's use of UTC (or whatever timezone your\nserver runs) isn't ideal.\n\nTo change your timezone, you'll need to grab both the moment.js & moment\ntimezone libraries with the timezone data. Again, I recommend grabbing these\nfrom cdnjs.cloudflare.com [http://cdnjs.com/libraries/moment], and placing them\nin your default.hbs  underneath where you added jQuery:\n\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js\"></script>\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.4.1/moment-timezone-with-data-2010-2020.min.js\"></script>\n\n\nOnce you have these included in your theme, you'll need to add a small snippet\nof JavaScript that will read all of the dates on the page, and replace them with\na transformed version.\n\n<script type=\"text/javascript\">\n$(document).ready(function () {\n  $('.post-date').each(function (i, date) {\n    var $date = $(date); \n\n    $date.html(\n      moment($date.attr('datetime'))\n        .tz('Europe/Berlin')\n        .format('DD MMMM YYYY HH:mm')\n      );\n  });\n});\n</script>\n\n\nThis snippet calls .tz('Europe/Berlin')  to convert the date into the correct\ntimezone for Germany. Use the map in the moment timezone docs\n[http://momentjs.com/timezone/]  to look up the name for your timezone.\n\nThis snippet also uses a custom date format to output both the date and time.\nMoment's formatting documentation [http://momentjs.com/docs/#/displaying/]  has\nfull info on how to design your own custom format.\n\nCombining locale & timezone\nHere's a combined version, switching both the locale and the timezone:\n\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js\"></script>\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/locale/de.js\"></script>\n<script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.4.1/moment-timezone-with-data-2010-2020.min.js\"></script>\n\n<script type=\"text/javascript\">\n  $(document).ready(function () {\n    moment.locale('de');\n\n    $('.post-date').each(function (i, date) {\n      var $date = $(date);\n\n      $date.html(\n        moment($date.attr('datetime'))\n          .tz('Europe/Berlin')\n          .format('LLL')\n       );\n    });\n  });\n</script>\n\n\nImproving performance\nIf you're keen on keeping your theme super-lightweight, there are some\nimprovements that can be made to the provided examples. The first and most\nobvious is to remove jQuery as there are plenty of other ways to do \n$document.ready()  without jQuery\n[http://stackoverflow.com/questions/799981/document-ready-equivalent-without-jquery]\n.\n\nAlthough moment.js no longer provides a tool for creating a custom build of\ntimezone data, it is relatively straightforward to open the timezone data file\nto pull out just the data you need. For example, this gist\n[https://gist.github.com/ErisDS/b56155424e00d166c862]  contains just the data\nfor GMT, which will ensure your blog respects time changes during the Summer if\nyou're in the UK.\n\n> Note: If you do choose to create custom builds of moment.js that are stored\nlocally, please remember to use the asset helper\n[http://themes.ghost.org/docs/asset].","html":"<p>Ghost, by default, outputs dates in English using the timezone of the server hosting your site. It is possible to change both the language and the timezone used to output dates in your theme using jQuery, <a href=\"http://momentjs.com/\">moment.js</a> and <a href=\"http://momentjs.com/timezone/\">moment.js timezone</a>.</p><p>In the following guide, you'll learn how to switch the locale to German and also how to output dates converted to the 'Europe/Berlin' timezone.</p><blockquote><em>Note: This guide assumes you're comfortable editing a Ghost theme. If you need help getting started with theming for Ghost, go to the <a href=\"https://docs.ghost.org/api/handlebars-themes/\">theme docs</a>.</em></blockquote><h2 id=\"providing-dates-to-moment\">Providing dates to moment</h2><p>For this to work, you'll first need to make sure that your theme is outputting dates in a format that moment can pick up and manipulate. This means using Ghost's <code>date</code> helper to output a complete machine-readable date in an HTML attribute.</p><p>For example, if you're using the Casper theme, change the <code>&lt;time&gt;&lt;/time&gt;</code> HTML blocks to look like this:</p><p><code>&lt;time class=\"post-date\" datetime=\"{{date format=\"YYYY-MM-DDTHH:mm:ss.SS\\Z\"}}\"&gt;&lt;/time&gt;</code></p><p>The format <code>YYYY-MM-DDTHH:mm:ss.SS\\Z</code> can be understood by moment.js. Note that we're only outputting it as an attribute, rather than rendering the date on the page. Using an <a href=\"https://developer.mozilla.org/en/docs/Web/Guide/HTML/Using_data_attributes\">html data attribute</a> would also work here.</p><h2 id=\"include-jquery\">Include jQuery</h2><p>Many Ghost themes, including the default theme Casper, already have jQuery included. If you theme doesn't yet have jQuery you'll need to add it, or see the section on <a>improving performance</a> at the end of this guide for alternatives.</p><p>To include jQuery, add the following snippet to the <code>default.hbs</code> file of your theme, somewhere near <code>{{ghost_foot}}</code> or just above the <code>&lt;/body&gt;</code> tag:</p><p><code>&lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.11.3.min.js\"&gt;&lt;/script&gt;</code></p><h2 id=\"change-your-locale\">Change your locale</h2><p>To change your local, you'll need to grab both the moment.js file, and the local you want and include them in your theme.I recommend grabbing these from <a href=\"http://cdnjs.com/libraries/moment\">cdnjs.cloudflare.com</a>, and placing them in your <code>default.hbs</code> underneath where you added jQuery:</p><!--kg-card-begin: code--><pre><code>&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/locale/de.js\"&gt;&lt;/script&gt;\n</code></pre><!--kg-card-end: code--><p>Once these are included, you'll need to add a final piece of JavaScript just beneath where you included jQuery and the moment files.</p><p>This code first sets the moment locale to 'de'. Then it loops through each date on the page, and replaces the content of the tag with a brand new, correctly localised date using moment:</p><!--kg-card-begin: code--><pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n  moment.locale('de');\n\n  $('.post-date').each(function (i, date) {\n    var $date = $(date);\n        \n    $date.html(\n      moment($date.attr('datetime'))\n        .format('LLL')\n    );\n  });\n});\n&lt;/script&gt;\n</code></pre><!--kg-card-end: code--><p><code>LLL</code> is a format specific to the locale provided, you can look up how moment will format dates for your local, by visiting the <a href=\"http://momentjs.com/#multiple-locale-support\">moment locale docs</a> and choosing your locale.</p><h2 id=\"change-your-timezone\">Change your timezone</h2><p>The majority of Ghost themes don't output the time a post was published. For some blogs with a high volume of posts, distinguishing posts based on time is important and for these blogs, Ghost's use of UTC (or whatever timezone your server runs) isn't ideal.</p><p>To change your timezone, you'll need to grab both the moment.js &amp; moment timezone libraries with the timezone data. Again, I recommend grabbing these from <a href=\"http://cdnjs.com/libraries/moment\">cdnjs.cloudflare.com</a>, and placing them in your <code>default.hbs</code> underneath where you added jQuery:</p><!--kg-card-begin: code--><pre><code>&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.4.1/moment-timezone-with-data-2010-2020.min.js\"&gt;&lt;/script&gt;\n</code></pre><!--kg-card-end: code--><p>Once you have these included in your theme, you'll need to add a small snippet of JavaScript that will read all of the dates on the page, and replace them with a transformed version.</p><!--kg-card-begin: code--><pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n  $('.post-date').each(function (i, date) {\n    var $date = $(date); \n\n    $date.html(\n      moment($date.attr('datetime'))\n        .tz('Europe/Berlin')\n        .format('DD MMMM YYYY HH:mm')\n      );\n  });\n});\n&lt;/script&gt;\n</code></pre><!--kg-card-end: code--><p>This snippet calls <code>.tz('Europe/Berlin')</code> to convert the date into the correct timezone for Germany. Use the map in the <a href=\"http://momentjs.com/timezone/\">moment timezone docs</a> to look up the name for your timezone.</p><p>This snippet also uses a custom date format to output both the date and time. Moment's <a href=\"http://momentjs.com/docs/#/displaying/\">formatting documentation</a> has full info on how to design your own custom format.</p><h2 id=\"combining-locale-timezone\">Combining locale &amp; timezone</h2><p>Here's a combined version, switching both the locale and the timezone:</p><!--kg-card-begin: code--><pre><code>&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/locale/de.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.4.1/moment-timezone-with-data-2010-2020.min.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n  $(document).ready(function () {\n    moment.locale('de');\n\n    $('.post-date').each(function (i, date) {\n      var $date = $(date);\n\n      $date.html(\n        moment($date.attr('datetime'))\n          .tz('Europe/Berlin')\n          .format('LLL')\n       );\n    });\n  });\n&lt;/script&gt;\n</code></pre><!--kg-card-end: code--><h2 id=\"improving-performance\">Improving performance</h2><p>If you're keen on keeping your theme super-lightweight, there are some improvements that can be made to the provided examples. The first and most obvious is to remove jQuery as there are plenty of other ways to do <code>$document.ready()</code> <a href=\"http://stackoverflow.com/questions/799981/document-ready-equivalent-without-jquery\">without jQuery</a>.</p><p>Although moment.js no longer provides a tool for creating a custom build of timezone data, it is relatively straightforward to open the timezone data file to pull out just the data you need. For example, <a href=\"https://gist.github.com/ErisDS/b56155424e00d166c862\">this gist</a> contains just the data for GMT, which will ensure your blog respects time changes during the Summer if you're in the UK.</p><blockquote>Note: If you do choose to create custom builds of moment.js that are stored locally, please remember to use the <a href=\"http://themes.ghost.org/docs/asset\">asset helper</a>.</blockquote>","custom_template":null,"url":"https://docs.ghost.io/localising-dates-in-ghost-themes/","uuid":"30382c41-e966-4cb9-b0a6-f71b45ca9634","page":false,"codeinjection_foot":null,"codeinjection_head":null,"comment_id":"5c94c0b4cb358d00c095d343"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"localising-dates-in-ghost-themes","relatedPosts":[{"node":{"slug":"custom-rss-feed","title":"How to make an iTunes Podcast RSS feed with Ghost","url":"/tutorials/custom-rss-feed/","published_at":"2018-12-06T10:13:53.000+00:00","feature_image":null,"tags":[{"slug":"dynamic-routing","name":"Dynamic Routing","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"google-custom-search","title":"Add Google Custom Search to Ghost","url":"/tutorials/google-custom-search/","published_at":"2018-11-15T12:04:42.000+00:00","feature_image":null,"tags":[{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"related-posts-block","title":"How to build a related posts block","url":"/tutorials/related-posts-block/","published_at":"2018-11-08T10:34:49.000+00:00","feature_image":null,"tags":[{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"custom-amp-themes","title":"A complete guide to ⚡ AMP templates in Ghost","url":"/tutorials/custom-amp-themes/","published_at":"2018-10-30T10:19:10.000+00:00","feature_image":null,"tags":[{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}},{"node":{"slug":"custom-page-templates","title":"Custom post templates","url":"/tutorials/custom-page-templates/","published_at":"2018-10-10T10:49:27.000+00:00","feature_image":"https://docs.ghost.io/content/images/2018/10/themes.svg","tags":[{"slug":"hash-tutorial","name":"#tutorial","description":null,"meta_title":null,"meta_description":null,"feature_image":null},{"slug":"themes","name":"Themes","description":null,"meta_title":null,"meta_description":null,"feature_image":null}]}}],"section":"tutorials"}}