{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"Ghost Docs","description":"Everything you need to know about working with the Ghost professional publishing platform."}},"markdownRemark":{"frontmatter":{"title":"Responsive Images","date":"2018-12-18","date_pretty":"18 December, 2018","path":null,"meta_title":"How to use responsive images in Ghost themes","meta_description":"Ghost themes support automatic image resizing, allowing you to use a minimal handlebars helper to output different image sizes.","image":null,"next":null,"sidebar":"handlebars","toc":null,"keywords":["handlebars","themes","images","media","responsive","performance"]},"html":"<p>Optimise the performance of your site by outputting images at different sizes depending on where they appear</p>\n<h2 id=\"overview\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h2>\n<p>So you upload glorious 2000px feature images to all your posts to appear in the giant hero/header on individual articles and things look great. On your home page, though, you're displaying those feature images as 250px thumbnails for every single post. And there are a lot of them. Suddenly, those big beautiful 2000px jpgs are no longer ideal and your site performance slows right down.</p>\n<p>Ghost's dynamic image sizes feature solves this, by allowing you to use scaled down images or build out responsive image srcsets for your theme.</p>\n<h2 id=\"configuration\"><a href=\"#configuration\" aria-label=\"configuration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration</h2>\n<p>First, in your theme's <code class=\"language-text\">package.json</code> - you'll need to set up which sizes you'd like to use. You can change these sizes at any time and Ghost will automatically regenerate copies of your images at the specified sizes, so treat this more like a cache than anything else. Generally speaking, less is better. Try to not have more than 10 image sizes so your media storage doesn't grow out of control.</p>\n<p>Here's a sample of <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the image sizes in Ghost's default Casper theme</a>.</p>\n<div class=\"gatsby-code-title\">package.json</div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"config\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"image_sizes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"xxs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"xs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"s\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span> <span class=\"token number\">300</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"m\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span> <span class=\"token number\">600</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"l\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1000</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"xl\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"width\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2000</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"using-image-sizes\"><a href=\"#using-image-sizes\" aria-label=\"using image sizes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using image sizes</h2>\n<p>Once your image sizes are defined, you can pass a <code class=\"language-text\">size</code> parameter to the <a href=\"/api/handlebars-themes/helpers/img_url/\">{{img_url}}</a> helper in your theme to output an image at a particular size.</p>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">img_url</span> <span class=\"token variable\">feature_image</span> <span class=\"token variable\">size</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"s\"</span><span class=\"token delimiter punctuation\">}}</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>If you want to build out <a href=\"https://medium.freecodecamp.org/a-guide-to-responsive-images-with-ready-to-use-templates-c400bd65c433\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">full responsive images</a>, then create your html srcsets passing in multiple image sizes, and let the browser do the rest.</p>\n<p>Here's an <a href=\"https://github.com/TryGhost/Casper/blob/master/partials/post-card.hbs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">example from Ghost default Casper theme</a> implementation:</p>\n<div class=\"gatsby-code-title\">index.hbs</div>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>post-image<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">srcset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">img_url</span> <span class=\"token variable\">feature_image</span> <span class=\"token variable\">size</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"s\"</span><span class=\"token delimiter punctuation\">}}</span></span> 300w,\n            <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">img_url</span> <span class=\"token variable\">feature_image</span> <span class=\"token variable\">size</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"m\"</span><span class=\"token delimiter punctuation\">}}</span></span> 600w,\n            <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">img_url</span> <span class=\"token variable\">feature_image</span> <span class=\"token variable\">size</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"l\"</span><span class=\"token delimiter punctuation\">}}</span></span> 1000w,\n            <span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">img_url</span> <span class=\"token variable\">feature_image</span> <span class=\"token variable\">size</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"xl\"</span><span class=\"token delimiter punctuation\">}}</span></span> 2000w<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">sizes</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>(max-width: 1000px) 400px, 700px<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">img_url</span> <span class=\"token variable\">feature_image</span> <span class=\"token variable\">size</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"m\"</span><span class=\"token delimiter punctuation\">}}</span></span><span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token variable\">title</span><span class=\"token delimiter punctuation\">}}</span></span><span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<h2 id=\"compatibility\"><a href=\"#compatibility\" aria-label=\"compatibility permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Compatibility</h2>\n<p>Ghost image sizes will be automatically generated for all images uploaded directly <em>to</em> Ghost, and will regenerated as needed automatically whenever you change an image, a list of sizes, or the theme being used. Unlike other platforms, there's no manual work needed to manage image sizes, it's all done in the background for you.</p>\n<p>Dynamic image sizes are <em>not</em> compatible with externally hosted images. If you insert images from <a href=\"/integrations/unsplash/\">Unsplash</a> or you store your image files on a <a href=\"/integrations/storage/\">third party storage adapter</a> then the image url returned will be determined by the external source.</p>","fields":{"slug":"/api/handlebars-themes/responsive-images/"},"timeToRead":2,"excerpt":"Optimise the performance of your site by outputting images at different sizes depending on where they appearOverviewSo you upload gloriousâ€¦","fileAbsolutePath":"/Users/zhangh/opt/classes/website1/computervisionsite/content/api/v2/handlebars-themes/responsive-images.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/api/handlebars-themes/responsive-images/"}}