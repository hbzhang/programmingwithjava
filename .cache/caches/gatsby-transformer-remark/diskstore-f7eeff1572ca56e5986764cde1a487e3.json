{"expireTime":9007200814929300000,"key":"transformer-remark-markdown-html-d108899d392e7ff0773e124f07943a7d-gatsby-remark-imagesgatsby-remark-snippetsgatsby-remark-autolink-headersgatsby-remark-code-titlesgatsby-remark-prismjsgatsby-remark-external-links-","val":"<p>Template routes allow you to map individual URLs to specific template files within a Ghost theme. For example: make <code class=\"language-text\">/custom/</code> load <code class=\"language-text\">custom.hbs</code></p>\n<p>Using template routes is very minimal. There's no default data associated with them, so there isn't any content automatically loaded in from Ghost like there is with posts and pages. Instead, you can write all the custom code you like into a specific file, and then have that file load on the route of your choice.</p>\n<p>Custom routes are handy for creating static pages outside of Ghost Admin, when you don't want them to be editable, they use lots of custom code, or you need to create a specific custom URL which more than a basic slug.</p>\n<p>Don't worry, we'll go through some examples of all of the above!</p>\n<hr>\n<h2 id=\"basic-routing\"><a href=\"#basic-routing\" aria-label=\"basic routing permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Basic routing</h2>\n<p>The <a href=\"/api/handlebars-themes/routing/\">default routes.yaml file</a> which comes with Ghost contains an empty section under <code class=\"language-text\">routes</code>, and this is where custom routes can be defined.</p>\n<p>Let's say you've got a big <strong>Features</strong> landing page with all sorts of animations and custom HTML. Rather than trying to cram all the code into the Ghost editor and hope for the best, you can instead store the code in a custom template called <code class=\"language-text\">features.hbs</code> - and then point a custom route at it:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">routes</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">/features/</span><span class=\"token punctuation\">:</span> features</code></pre></div>\n<p>The first half is the is the URL: <code class=\"language-text\">site.com/features</code> - the second is the template which will be used: <code class=\"language-text\">features.hbs</code> - you leave off the <code class=\"language-text\">.hbs</code> because Ghost takes care of that part. Now you've created a new static page in Ghost, without using the admin!</p>\n<p>You can also use custom routes to simulate subdirectories. For example if you want a \"Team\" page to appear, for navigational purposes, as if it's a subpage of your \"About\" page.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">routes</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">/features/</span><span class=\"token punctuation\">:</span> features\n  <span class=\"token key atrule\">/about/team/</span><span class=\"token punctuation\">:</span> team</code></pre></div>\n<p>Now <code class=\"language-text\">site.com/about/team/</code> is a dedicated URL for a static <code class=\"language-text\">team.hbs</code> template within your theme. Routes can be just about anything you like using letters, numbers, slashes, hyphens, and underscores.</p>\n<hr>\n<h2 id=\"loading-data\"><a href=\"#loading-data\" aria-label=\"loading data permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Loading data</h2>\n<p>The downside of using an <code class=\"language-text\">/about/team</code> route to point at a static <code class=\"language-text\">team.hbs</code> template is that it's... well: static.</p>\n<p>Unlike the <strong>Features</strong> the team page needs to be updated fairly regularly with a list of team members; so it would be inconvenient to have to do that in code each time. What we really want is to keep the custom route, but have the page still use data stored in Ghost. This is where the <code class=\"language-text\">data</code> property comes in.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">routes</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">/features/</span><span class=\"token punctuation\">:</span> features\n  <span class=\"token key atrule\">/about/team/</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span> team\n    <span class=\"token key atrule\">data</span><span class=\"token punctuation\">:</span> page.team</code></pre></div>\n<p>This will assign all of the data from a Ghost <strong>page</strong> with a slug of <code class=\"language-text\">team</code> to the new route, and it will also automatically redirect the original URL of the content to the new one.</p>\n<p>Now, the data from <code class=\"language-text\">site.com/team</code> will be available inside the <code class=\"language-text\">{{#page}}</code> block helper in a custom <code class=\"language-text\">team.hbs</code> template on <code class=\"language-text\">site.com/about/team/</code> and the old URL will redirect to the new one, to prevent the content being duplicated in two places.</p>\n<hr>\n<h2 id=\"building-feeds--apis\"><a href=\"#building-feeds--apis\" aria-label=\"building feeds  apis permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building feeds &#x26; APIs</h2>\n<p>In the examples used so far, routes have been configured to generate a single page, some data and a template, but that's not all routes can do. You can make a route output just about anything, for instance a custom RSS feed or JSON endpoint.</p>\n<p>If you create a custom template file with a <a href=\"/api/handlebars-themes/helpers/get/\">{{#get}}</a> helper API query loading a list of filtered posts, you can return those posts on a custom route with custom formatting.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">routes</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">/podcast/rss/</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span> podcast<span class=\"token punctuation\">-</span>feed\n    <span class=\"token key atrule\">content_type</span><span class=\"token punctuation\">:</span> text/xml</code></pre></div>\n<p>Generally routes render HTML, but you can override that by specifying a <code class=\"language-text\">content_type</code> property with a custom mime-type.</p>\n<p>For example you might want to build a custom RSS feed to get all posts tagged with <code class=\"language-text\">podcast</code> and deliver them to iTunes. In fact, <a href=\"/tutorials/custom-rss-feed/\">here's a full tutorial</a> for how to do that.</p>\n<p>Or perhaps you'd like to build your own little public JSON API of breaking news, and provide it to other people to be able to consume your most important updates inside their websites and applications? That's fine too, you'd just pass <code class=\"language-text\">json</code> as the <code class=\"language-text\">content_type</code>.</p>"}