{"expireTime":9007200814929299000,"key":"transformer-remark-markdown-html-12dafc73b49dba68a55f328e51745436-gatsby-remark-imagesgatsby-remark-snippetsgatsby-remark-autolink-headersgatsby-remark-code-titlesgatsby-remark-prismjsgatsby-remark-external-links-","val":"<p>Ghost supports AMP <a href=\"https://www.ampproject.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Accelerated Mobile Pages</a> for the posts in your publication.</p>\n<h2 id=\"overview\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h2>\n<p>The AMP project is a Google led initiative that enables lightweight versions of any piece of content on a site which offers speed and performance your readers in the browser.</p>\n<p>In Ghost, a single handlebars template is used to automatically render AMP versions of the posts on your site. The default <code class=\"language-text\">amp.hbs</code> template offers all of the basic functionality of AMP, but it's possible to build on top of this to include other AMP supported features if required!</p>\n<p>The AMP feature is enabled by default, or you can disable it in the settings of Ghost admin if you'd prefer not to use it.</p>\n<h3 id=\"route\"><a href=\"#route\" aria-label=\"route permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Route</h3>\n<p>To access any post rendered using the <code class=\"language-text\">amp.hbs</code> template on your site, add <code class=\"language-text\">/amp/</code> to the end of any post URL on your publication. The parent post also has a canonical link to it's AMP equivalent. </p>\n<h3 id=\"template\"><a href=\"#template\" aria-label=\"template permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Template</h3>\n<p>The amp context always uses the <code class=\"language-text\">amp.hbs</code> template. Ghost will look for this template within your theme files and use this by default. </p>\n<p>The template structure is as follows: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.\n├── /assets\n|   └── /css\n|       ├── screen.css\n|   ├── /fonts\n|   ├── /images\n|   ├── /js\n├── default.hbs \n├── index.hbs [required]\n└── post.hbs [required]\n└── amp.hbs [optional]\n└── package.json [required]</code></pre></div>\n<p>Check out the <a href=\"https://github.com/TryGhost/Ghost/blob/master/core/server/apps/amp/lib/views/amp.hbs/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">default template</a> in full. </p>\n<h3 id=\"data\"><a href=\"#data\" aria-label=\"data permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data</h3>\n<p>The <code class=\"language-text\">amp</code> <a href=\"/api/handlebars-themes/context/\">context</a> provides access to the post object which matches the route. As with all contexts in Ghost, all of the <code class=\"language-text\">@blog</code> global data is also available.</p>\n<p>When outputting the post, you can use a block expression (<code class=\"language-text\">{{#post}}{{/post}}</code>) to drop into the post scope and access all of the attributes. See a full list of <a href=\"/api/handlebars-themes/context/post/#post-object-attributes/\">attributes</a>.</p>\n<h3 id=\"amp-features\"><a href=\"#amp-features\" aria-label=\"amp features permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AMP features</h3>\n<p>AMP consists of three different parts: </p>\n<ul>\n<li>AMP HTML</li>\n<li>AMP JS</li>\n<li>Google AMP Cache</li>\n</ul>\n<p>AMP has many restrictions for optimal performance. For example, JavaScript can only be used in certain circumstances, CSS must be in the correct tags inside of the <code class=\"language-text\">&lt;head&gt;</code> section, and AMP HTML must be used instead of common HTML. </p>\n<p>If you are making adjustments to your <code class=\"language-text\">amp.hbs</code> file, follow the documentation provided on the official <a href=\"https://www.ampproject.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AMP docs</a> site.</p>\n<p>Edited <code class=\"language-text\">amp.hbs</code> templates can be updated in your theme by uploading a .zip of your updated theme in Ghost admin.</p>\n<h3 id=\"debugging-amp\"><a href=\"#debugging-amp\" aria-label=\"debugging amp permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debugging AMP</h3>\n<p>Since AMP has strict restrictions, it's important to ensure that your code passes AMP validation. The quickest way to do this is to add <code class=\"language-text\">#development=1</code> to the AMP URL, and check for validation errors in your browser console. </p>\n<h3 id=\"helpers\"><a href=\"#helpers\" aria-label=\"helpers permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Helpers</h3>\n<p>Because the <code class=\"language-text\">amp</code> context is using the <code class=\"language-text\">post</code> data, you can use almost every <a href=\"/api/handlebars-themes/context/post/#helpers\">post helper</a> inside of the <code class=\"language-text\">{{#post}}{{/post}}</code> block expression. In addition to this, there are three helpers especially for <code class=\"language-text\">amp</code> which are decribed below. </p>\n<h4 id=\"amp_ghost_head\"><a href=\"#amp_ghost_head\" aria-label=\"amp_ghost_head permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">{{amp_ghost_head}}</code></h4>\n<p>This helper belongs just before the <code class=\"language-text\">&lt;/head&gt;</code> tag in <code class=\"language-text\">amp.hbs</code> and outputs structured data in JSON/LD, Facebook Open Graph and Twitter cards, as well as an RSS URL path. It is a simplified version of <code class=\"language-text\">{{ghost_head}}</code> for AMP.</p>\n<h4 id=\"amp_components\"><a href=\"#amp_components\" aria-label=\"amp_components permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">{{amp_components}}</code></h4>\n<p>This helper can exist just before the <code class=\"language-text\">&lt;/head&gt;</code> tag in <code class=\"language-text\">amp.hbs</code> and can output the necessary javascript if your content contains a <code class=\"language-text\">.gif</code>, an <code class=\"language-text\">&lt;iframe&gt;</code> or an <code class=\"language-text\">&lt;audio&gt;</code> tag. </p>\n<h4 id=\"amp_content\"><a href=\"#amp_content\" aria-label=\"amp_content permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">{{amp_content}}</code></h4>\n<p>This helper transforms post content into valid AMP HTML. </p>\n<ul>\n<li><code class=\"language-text\">&lt;img&gt;</code> transforms to <code class=\"language-text\">&lt;amp-img&gt;</code></li>\n<li><code class=\"language-text\">.gif</code> transforms to <code class=\"language-text\">&lt;amp-anim&gt;</code></li>\n<li><code class=\"language-text\">&lt;iframe&gt;</code> transforms to <code class=\"language-text\">&lt;amp-iframe&gt;</code></li>\n<li><code class=\"language-text\">&lt;audio&gt;</code> transforms to <code class=\"language-text\">&lt;amp-audio&gt;</code></li>\n</ul>\n<h3 id=\"img_url-helper\"><a href=\"#img_url-helper\" aria-label=\"img_url helper permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">{{img_url}}</code> helper</h3>\n<p>There are special requirements for using the <code class=\"language-text\">{{img_url}}</code> helper. It must be wrapped in an <code class=\"language-text\">&lt;amp-img&gt;</code> tag and must provide a <code class=\"language-text\">width</code> and <code class=\"language-text\">height</code> property. This only works for post images. </p>\n<h2 id=\"summary\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>You've now got an understanding of how Ghost implements AMP pages on your publication, have an understanding of how the <code class=\"language-text\">amp.hbs</code> template works should you decide to develop it further for your site. Always refer to the official <a href=\"https://www.ampproject.org/docs/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AMP documentation</a> when making adjustments to your AMP template!</p>"}