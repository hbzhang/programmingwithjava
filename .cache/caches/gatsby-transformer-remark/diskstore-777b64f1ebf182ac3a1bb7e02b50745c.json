{"expireTime":9007200813127425000,"key":"transformer-remark-markdown-html-ast-5cdbde2c3f8bf9da4ae07dd89b999fc1-gatsby-remark-imagesgatsby-remark-snippetsgatsby-remark-autolink-headersgatsby-remark-code-titlesgatsby-remark-prismjsgatsby-remark-external-links-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When self-hosting there are a few additional steps to consider for security and performance.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":93,"offset":93}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":93,"offset":93}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"server-hardening"},"children":[{"type":"element","tagName":"a","properties":{"href":"#server-hardening","aria-label":"server hardening permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Server hardening","position":{"start":{"line":4,"column":4,"offset":98},"end":{"line":4,"column":20,"offset":114}}}],"position":{"start":{"line":4,"column":1,"offset":95},"end":{"line":4,"column":20,"offset":114}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After setting up a fresh Ubuntu install in production, it's worth considering the following steps to make your new environment extra secure and resilient:","position":{"start":{"line":6,"column":1,"offset":116},"end":{"line":6,"column":155,"offset":270}}}],"position":{"start":{"line":6,"column":1,"offset":116},"end":{"line":6,"column":155,"offset":270}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"securing-mysql"},"children":[{"type":"element","tagName":"a","properties":{"href":"#securing-mysql","aria-label":"securing mysql permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Securing MySQL","position":{"start":{"line":8,"column":5,"offset":276},"end":{"line":8,"column":19,"offset":290}}}],"position":{"start":{"line":8,"column":1,"offset":272},"end":{"line":8,"column":19,"offset":290}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We strongly recommend running ","position":{"start":{"line":10,"column":1,"offset":292},"end":{"line":10,"column":31,"offset":322}}},{"type":"raw","value":"<code class=\"language-text\">mysql_secure_installation</code>","position":{"start":{"line":10,"column":31,"offset":322},"end":{"line":10,"column":58,"offset":349}}},{"type":"text","value":" after successful setup to significantly improve the security of your database.","position":{"start":{"line":10,"column":58,"offset":349},"end":{"line":10,"column":137,"offset":428}}}],"position":{"start":{"line":10,"column":1,"offset":292},"end":{"line":10,"column":137,"offset":428}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"setting-up-a-firewall"},"children":[{"type":"element","tagName":"a","properties":{"href":"#setting-up-a-firewall","aria-label":"setting up a firewall permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Setting up a firewall","position":{"start":{"line":12,"column":5,"offset":434},"end":{"line":12,"column":26,"offset":455}}}],"position":{"start":{"line":12,"column":1,"offset":430},"end":{"line":12,"column":26,"offset":455}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ubuntu 18.04 servers can use the UFW firewall to make sure only connections to certain services are allowed. We recommend setting up UFW rules for ","position":{"start":{"line":14,"column":1,"offset":457},"end":{"line":14,"column":148,"offset":604}}},{"type":"raw","value":"<code class=\"language-text\">ssh</code>","position":{"start":{"line":14,"column":148,"offset":604},"end":{"line":14,"column":153,"offset":609}}},{"type":"text","value":", ","position":{"start":{"line":14,"column":153,"offset":609},"end":{"line":14,"column":155,"offset":611}}},{"type":"raw","value":"<code class=\"language-text\">nginx</code>","position":{"start":{"line":14,"column":155,"offset":611},"end":{"line":14,"column":162,"offset":618}}},{"type":"text","value":", ","position":{"start":{"line":14,"column":162,"offset":618},"end":{"line":14,"column":164,"offset":620}}},{"type":"raw","value":"<code class=\"language-text\">http</code>","position":{"start":{"line":14,"column":164,"offset":620},"end":{"line":14,"column":170,"offset":626}}},{"type":"text","value":", and ","position":{"start":{"line":14,"column":170,"offset":626},"end":{"line":14,"column":176,"offset":632}}},{"type":"raw","value":"<code class=\"language-text\">https</code>","position":{"start":{"line":14,"column":176,"offset":632},"end":{"line":14,"column":183,"offset":639}}},{"type":"text","value":". If you do use UFW, make sure you don't use any other firewalls.","position":{"start":{"line":14,"column":183,"offset":639},"end":{"line":14,"column":248,"offset":704}}}],"position":{"start":{"line":14,"column":1,"offset":457},"end":{"line":14,"column":248,"offset":704}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"disable-ssh-root--password-logins"},"children":[{"type":"element","tagName":"a","properties":{"href":"#disable-ssh-root--password-logins","aria-label":"disable ssh root  password logins permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Disable SSH Root & password logins","position":{"start":{"line":16,"column":5,"offset":710},"end":{"line":16,"column":39,"offset":744}}}],"position":{"start":{"line":16,"column":1,"offset":706},"end":{"line":16,"column":39,"offset":744}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It's a very good idea to disable SSH password based login and ","position":{"start":{"line":18,"column":1,"offset":746},"end":{"line":18,"column":63,"offset":808}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"only","position":{"start":{"line":18,"column":64,"offset":809},"end":{"line":18,"column":68,"offset":813}}}],"position":{"start":{"line":18,"column":63,"offset":808},"end":{"line":18,"column":69,"offset":814}}},{"type":"text","value":" connect to your server via proper SSH keys. It's also a good idea to disable the root user. ","position":{"start":{"line":18,"column":69,"offset":814},"end":{"line":18,"column":162,"offset":907}}}],"position":{"start":{"line":18,"column":1,"offset":746},"end":{"line":18,"column":162,"offset":907}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"optimising-for-scale"},"children":[{"type":"element","tagName":"a","properties":{"href":"#optimising-for-scale","aria-label":"optimising for scale permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Optimising for scale","position":{"start":{"line":21,"column":4,"offset":913},"end":{"line":21,"column":24,"offset":933}}}],"position":{"start":{"line":21,"column":1,"offset":910},"end":{"line":21,"column":24,"offset":933}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The correct way to scale Ghost is by adding a CDN and/or caching layer in front of your Ghost instance. ","position":{"start":{"line":23,"column":1,"offset":935},"end":{"line":23,"column":105,"offset":1039}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Clustering or sharding is not supported in any way.","position":{"start":{"line":23,"column":107,"offset":1041},"end":{"line":23,"column":158,"offset":1092}}}],"position":{"start":{"line":23,"column":105,"offset":1039},"end":{"line":23,"column":160,"offset":1094}}},{"type":"text","value":" ","position":{"start":{"line":23,"column":160,"offset":1094},"end":{"line":23,"column":161,"offset":1095}}}],"position":{"start":{"line":23,"column":1,"offset":935},"end":{"line":23,"column":161,"offset":1095}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Every day 2-5 of the top stories on Hacker News are published with Ghost, and to the best of our knowledge no Ghost site has ever fallen over as a result of a traffic spike. Minimal, sensible caching is more than enough.","position":{"start":{"line":25,"column":1,"offset":1097},"end":{"line":25,"column":221,"offset":1317}}}],"position":{"start":{"line":25,"column":1,"offset":1097},"end":{"line":25,"column":221,"offset":1317}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"staying-up-to-date"},"children":[{"type":"element","tagName":"a","properties":{"href":"#staying-up-to-date","aria-label":"staying up to date permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Staying up to date","position":{"start":{"line":28,"column":4,"offset":1323},"end":{"line":28,"column":22,"offset":1341}}}],"position":{"start":{"line":28,"column":1,"offset":1320},"end":{"line":28,"column":22,"offset":1341}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Whenever running a public-facing production web server it's ","position":{"start":{"line":30,"column":1,"offset":1343},"end":{"line":30,"column":61,"offset":1403}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"critically important","position":{"start":{"line":30,"column":63,"offset":1405},"end":{"line":30,"column":83,"offset":1425}}}],"position":{"start":{"line":30,"column":61,"offset":1403},"end":{"line":30,"column":85,"offset":1427}}},{"type":"text","value":" to keep all software up to date. If you don't keep everything up to date, you place your site and your server at risk of numerous potential exploits and hacks.","position":{"start":{"line":30,"column":85,"offset":1427},"end":{"line":30,"column":245,"offset":1587}}}],"position":{"start":{"line":30,"column":1,"offset":1343},"end":{"line":30,"column":245,"offset":1587}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you can't manage these things yourself, ensure that a systems administrator on your team is able to keep everything updated on your behalf.","position":{"start":{"line":32,"column":1,"offset":1589},"end":{"line":32,"column":143,"offset":1731}}}],"position":{"start":{"line":32,"column":1,"offset":1589},"end":{"line":32,"column":143,"offset":1731}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you don't have someone to manage your server and don't want to deal with any of the things on this page, consider using ","position":{"start":{"line":34,"column":1,"offset":1733},"end":{"line":34,"column":124,"offset":1856}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://ghost.org/pricing","target":"_blank","rel":"nofollow noopener noreferrer"},"children":[{"type":"text","value":"Ghost(Pro)","position":{"start":{"line":34,"column":127,"offset":1859},"end":{"line":34,"column":137,"offset":1869}}}],"position":{"start":{"line":34,"column":126,"offset":1858},"end":{"line":34,"column":165,"offset":1897}}}],"position":{"start":{"line":34,"column":124,"offset":1856},"end":{"line":34,"column":167,"offset":1899}}},{"type":"text","value":", where all of this is handled on your behalf. It will save a significant amount of time.","position":{"start":{"line":34,"column":167,"offset":1899},"end":{"line":34,"column":256,"offset":1988}}}],"position":{"start":{"line":34,"column":1,"offset":1733},"end":{"line":34,"column":256,"offset":1988}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":35,"column":1,"offset":1989}}}}