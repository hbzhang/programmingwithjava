{"expireTime":9007200813127424000,"key":"transformer-remark-markdown-html-ast-b57f451eba0468f64406efde1159ed52-gatsby-remark-imagesgatsby-remark-snippetsgatsby-remark-autolink-headersgatsby-remark-code-titlesgatsby-remark-prismjsgatsby-remark-external-links-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Admin API keys should remain secret, and therefore this promise-based JavaScript library is designed for server-side usage only. This library handles all the details of generating correctly formed urls and tokens, authenticating and making requests.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":250,"offset":250}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":250,"offset":250}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"working-example"},"children":[{"type":"element","tagName":"a","properties":{"href":"#working-example","aria-label":"working example permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Working Example","position":{"start":{"line":4,"column":4,"offset":255},"end":{"line":4,"column":19,"offset":270}}}],"position":{"start":{"line":4,"column":1,"offset":252},"end":{"line":4,"column":19,"offset":270}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> api <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GhostAdminAPI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  url<span class=\"token punctuation\">:</span> <span class=\"token string\">'http://localhost:2368'</span><span class=\"token punctuation\">,</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">'YOUR_ADMIN_API_KEY'</span><span class=\"token punctuation\">,</span>\n  version<span class=\"token punctuation\">:</span> <span class=\"token string\">'v2'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napi<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    title<span class=\"token punctuation\">:</span> <span class=\"token string\">'My first draft API post'</span><span class=\"token punctuation\">,</span>\n    mobiledoc<span class=\"token punctuation\">:</span> <span class=\"token string\">'{\\\"version\\\":\\\"0.3.1\\\",\\\"atoms\\\":[],\\\"cards\\\":[],\\\"markups\\\":[],\\\"sections\\\":[[1,\\\"p\\\",[[0,[],0,\\\"My post content. Work in progress...\\\"]]]]}'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":6,"column":1,"offset":272},"end":{"line":17,"column":4,"offset":620}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"authentication"},"children":[{"type":"element","tagName":"a","properties":{"href":"#authentication","aria-label":"authentication permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Authentication","position":{"start":{"line":19,"column":4,"offset":625},"end":{"line":19,"column":18,"offset":639}}}],"position":{"start":{"line":19,"column":1,"offset":622},"end":{"line":19,"column":18,"offset":639}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The client requires the host address of your Ghost API, an Admin API key, and a version string in order to authenticate.","position":{"start":{"line":21,"column":1,"offset":641},"end":{"line":21,"column":121,"offset":761}}}],"position":{"start":{"line":21,"column":1,"offset":641},"end":{"line":21,"column":121,"offset":761}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">url</code>","position":{"start":{"line":23,"column":3,"offset":765},"end":{"line":23,"column":8,"offset":770}}},{"type":"text","value":" - API domain, must not end in a trailing slash.","position":{"start":{"line":23,"column":8,"offset":770},"end":{"line":23,"column":56,"offset":818}}}],"position":{"start":{"line":23,"column":1,"offset":763},"end":{"line":23,"column":56,"offset":818}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">key</code>","position":{"start":{"line":24,"column":3,"offset":821},"end":{"line":24,"column":8,"offset":826}}},{"type":"text","value":" - string copied from the \"Integrations\" screen in Ghost Admin","position":{"start":{"line":24,"column":8,"offset":826},"end":{"line":24,"column":70,"offset":888}}}],"position":{"start":{"line":24,"column":1,"offset":819},"end":{"line":24,"column":70,"offset":888}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">version</code>","position":{"start":{"line":25,"column":3,"offset":891},"end":{"line":25,"column":12,"offset":900}}},{"type":"text","value":" - should be set to 'v2'","position":{"start":{"line":25,"column":12,"offset":900},"end":{"line":25,"column":36,"offset":924}}}],"position":{"start":{"line":25,"column":1,"offset":889},"end":{"line":25,"column":36,"offset":924}}},{"type":"text","value":"\n"}],"position":{"start":{"line":23,"column":1,"offset":763},"end":{"line":25,"column":36,"offset":924}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":27,"column":1,"offset":926},"end":{"line":27,"column":5,"offset":930}}},{"type":"raw","value":"<code class=\"language-text\">url</code>","position":{"start":{"line":27,"column":5,"offset":930},"end":{"line":27,"column":10,"offset":935}}},{"type":"text","value":" and ","position":{"start":{"line":27,"column":10,"offset":935},"end":{"line":27,"column":15,"offset":940}}},{"type":"raw","value":"<code class=\"language-text\">key</code>","position":{"start":{"line":27,"column":15,"offset":940},"end":{"line":27,"column":20,"offset":945}}},{"type":"text","value":" values can be obtained by creating a new ","position":{"start":{"line":27,"column":20,"offset":945},"end":{"line":27,"column":62,"offset":987}}},{"type":"raw","value":"<code class=\"language-text\">Custom Integration</code>","position":{"start":{"line":27,"column":62,"offset":987},"end":{"line":27,"column":82,"offset":1007}}},{"type":"text","value":" under the Integrations screen in Ghost Admin.","position":{"start":{"line":27,"column":82,"offset":1007},"end":{"line":27,"column":128,"offset":1053}}}],"position":{"start":{"line":27,"column":1,"offset":926},"end":{"line":27,"column":128,"offset":1053}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/images/apikey.png","alt":"Get Ghost Admin API credentials"},"children":[],"position":{"start":{"line":29,"column":1,"offset":1055},"end":{"line":29,"column":55,"offset":1109}}}],"position":{"start":{"line":29,"column":1,"offset":1055},"end":{"line":29,"column":55,"offset":1109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See the documentation on ","position":{"start":{"line":31,"column":1,"offset":1111},"end":{"line":31,"column":26,"offset":1136}}},{"type":"element","tagName":"a","properties":{"href":"/api/admin/#authentication"},"children":[{"type":"text","value":"Admin API authentication","position":{"start":{"line":31,"column":27,"offset":1137},"end":{"line":31,"column":51,"offset":1161}}}],"position":{"start":{"line":31,"column":26,"offset":1136},"end":{"line":31,"column":80,"offset":1190}}},{"type":"text","value":" for more explanation.","position":{"start":{"line":31,"column":80,"offset":1190},"end":{"line":31,"column":102,"offset":1212}}}],"position":{"start":{"line":31,"column":1,"offset":1111},"end":{"line":31,"column":102,"offset":1212}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"endpoints"},"children":[{"type":"element","tagName":"a","properties":{"href":"#endpoints","aria-label":"endpoints permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Endpoints","position":{"start":{"line":33,"column":4,"offset":1217},"end":{"line":33,"column":13,"offset":1226}}}],"position":{"start":{"line":33,"column":1,"offset":1214},"end":{"line":33,"column":13,"offset":1226}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All endpoints & parameters provided to integrations by the ","position":{"start":{"line":35,"column":1,"offset":1228},"end":{"line":35,"column":60,"offset":1287}}},{"type":"element","tagName":"a","properties":{"href":"/api/admin/"},"children":[{"type":"text","value":"Admin API","position":{"start":{"line":35,"column":61,"offset":1288},"end":{"line":35,"column":70,"offset":1297}}}],"position":{"start":{"line":35,"column":60,"offset":1287},"end":{"line":35,"column":84,"offset":1311}}},{"type":"text","value":" are supported.","position":{"start":{"line":35,"column":84,"offset":1311},"end":{"line":35,"column":99,"offset":1326}}}],"position":{"start":{"line":35,"column":1,"offset":1228},"end":{"line":35,"column":99,"offset":1326}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// [Stability: stable]</span>\n\n<span class=\"token comment\">// Browsing posts returns Promise([Post...]);</span>\n<span class=\"token comment\">// The resolved array will have a meta property</span>\napi<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">browse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napi<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> <span class=\"token string\">'abcd1234'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napi<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span> <span class=\"token string\">'My first API post'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napi<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">edit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> <span class=\"token string\">'abcd1234'</span><span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Renamed my post'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napi<span class=\"token punctuation\">.</span>posts<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> <span class=\"token string\">'abcd1234'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Browsing pages returns Promise([Page...])</span>\n<span class=\"token comment\">// The resolved array will have a meta property</span>\napi<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">browse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>limit<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napi<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> <span class=\"token string\">'abcd1234'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napi<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span> <span class=\"token string\">'My first API page'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\napi<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">edit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> <span class=\"token string\">'abcd1234'</span><span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Renamed my page'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\napi<span class=\"token punctuation\">.</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">:</span> <span class=\"token string\">'abcd1234'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Uploading images returns Promise([Image...])</span>\napi<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">.</span><span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>file<span class=\"token punctuation\">:</span> <span class=\"token string\">'/path/to/local/file'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":37,"column":1,"offset":1328},"end":{"line":59,"column":4,"offset":2055}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"publishing-example"},"children":[{"type":"element","tagName":"a","properties":{"href":"#publishing-example","aria-label":"publishing example permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Publishing Example","position":{"start":{"line":61,"column":4,"offset":2060},"end":{"line":61,"column":22,"offset":2078}}}],"position":{"start":{"line":61,"column":1,"offset":2057},"end":{"line":61,"column":22,"offset":2078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A bare minimum example of how to create a post from HTML content, including extracting and uploading images first.","position":{"start":{"line":63,"column":1,"offset":2080},"end":{"line":63,"column":115,"offset":2194}}}],"position":{"start":{"line":63,"column":1,"offset":2080},"end":{"line":63,"column":115,"offset":2194}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> GhostAdminAPI <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@tryghost/admin-api'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Your API config</span>\n<span class=\"token keyword\">const</span> api <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GhostAdminAPI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    url<span class=\"token punctuation\">:</span> <span class=\"token string\">'http://localhost:2368'</span><span class=\"token punctuation\">,</span>\n    version<span class=\"token punctuation\">:</span> <span class=\"token string\">'v2'</span><span class=\"token punctuation\">,</span>\n    key<span class=\"token punctuation\">:</span> <span class=\"token string\">'YOUR_ADMIN_API_KEY'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Utility function to find and upload any images in an HTML string</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">processImagesInHTML</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">html</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Find images that Ghost Upload supports</span>\n    <span class=\"token keyword\">let</span> imageRegex <span class=\"token operator\">=</span> <span class=\"token regex\">/=\"([^\"]*?(?:\\.jpg|\\.jpeg|\\.gif|\\.png|\\.svg|\\.sgvz))\"/gmi</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> imagePromises <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result <span class=\"token operator\">=</span> imageRegex<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> file <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// Upload the image, using the original matched filename as a reference</span>\n            imagePromises<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>api<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">.</span><span class=\"token function\">upload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                ref<span class=\"token punctuation\">:</span> file<span class=\"token punctuation\">,</span>\n                file<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">return</span> Promise\n        <span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>imagePromises<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">images</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            images<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">image</span> <span class=\"token operator\">=></span> html <span class=\"token operator\">=</span> html<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        \n            <span class=\"token keyword\">return</span> html<span class=\"token punctuation\">;</span>            \n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Your content</span>\n<span class=\"token keyword\">let</span> html <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;p>My test post content.&lt;/p>&lt;figure>&lt;img src=\"/path/to/my/image.jpg\" />&lt;figcaption>My awesome photo&lt;/figcaption>&lt;/figure>'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">return</span> <span class=\"token function\">processImagesInHTML</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">html</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>        \n        <span class=\"token keyword\">return</span> api<span class=\"token punctuation\">.</span>posts        \n            <span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>\n                <span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span> <span class=\"token string\">'My Test Post'</span><span class=\"token punctuation\">,</span> html<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>             \n                <span class=\"token punctuation\">{</span>source<span class=\"token punctuation\">:</span> <span class=\"token string\">'html'</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// Tell the API to use HTML as the content source, instead of mobiledoc</span>\n            <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":65,"column":1,"offset":2196},"end":{"line":114,"column":4,"offset":3819}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"installation"},"children":[{"type":"element","tagName":"a","properties":{"href":"#installation","aria-label":"installation permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Installation","position":{"start":{"line":117,"column":4,"offset":3825},"end":{"line":117,"column":16,"offset":3837}}}],"position":{"start":{"line":117,"column":1,"offset":3822},"end":{"line":117,"column":16,"offset":3837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">yarn add @tryghost/admin-api</code>","position":{"start":{"line":119,"column":1,"offset":3839},"end":{"line":119,"column":31,"offset":3869}}}],"position":{"start":{"line":119,"column":1,"offset":3839},"end":{"line":119,"column":31,"offset":3869}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">npm install @tryghost/admin-api</code>","position":{"start":{"line":121,"column":1,"offset":3871},"end":{"line":121,"column":34,"offset":3904}}}],"position":{"start":{"line":121,"column":1,"offset":3871},"end":{"line":121,"column":34,"offset":3904}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"usage"},"children":[{"type":"element","tagName":"a","properties":{"href":"#usage","aria-label":"usage permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Usage","position":{"start":{"line":124,"column":5,"offset":3911},"end":{"line":124,"column":10,"offset":3916}}}],"position":{"start":{"line":124,"column":1,"offset":3907},"end":{"line":124,"column":10,"offset":3916}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ES modules:","position":{"start":{"line":126,"column":1,"offset":3918},"end":{"line":126,"column":12,"offset":3929}}}],"position":{"start":{"line":126,"column":1,"offset":3918},"end":{"line":126,"column":12,"offset":3929}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> GhostAdminAPI <span class=\"token keyword\">from</span> <span class=\"token string\">'@tryghost/admin-api'</span></code></pre></div>","position":{"start":{"line":128,"column":1,"offset":3931},"end":{"line":130,"column":4,"offset":3996}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Node.js:","position":{"start":{"line":132,"column":1,"offset":3998},"end":{"line":132,"column":9,"offset":4006}}}],"position":{"start":{"line":132,"column":1,"offset":3998},"end":{"line":132,"column":9,"offset":4006}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> GhostAdminAPI <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@tryghost/admin-api'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":134,"column":1,"offset":4008},"end":{"line":136,"column":4,"offset":4079}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":137,"column":1,"offset":4080}}}}