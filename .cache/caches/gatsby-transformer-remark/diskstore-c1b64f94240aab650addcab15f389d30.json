{"expireTime":9007200813127422000,"key":"transformer-remark-markdown-html-ast-d8badc08b497f40cf25da70c4d834b84-gatsby-remark-imagesgatsby-remark-snippetsgatsby-remark-autolink-headersgatsby-remark-code-titlesgatsby-remark-prismjsgatsby-remark-external-links-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">ghost setup</code>","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":14,"offset":14}}},{"type":"text","value":" is the real magic in Ghost-CLI. You will probably never need to run it yourself, as it is called automatically by ","position":{"start":{"line":2,"column":14,"offset":14},"end":{"line":2,"column":129,"offset":129}}},{"type":"raw","value":"<code class=\"language-text\">ghost install</code>","position":{"start":{"line":2,"column":129,"offset":129},"end":{"line":2,"column":144,"offset":144}}},{"type":"text","value":".","position":{"start":{"line":2,"column":144,"offset":144},"end":{"line":2,"column":145,"offset":145}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":145,"offset":145}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"how-it-works"},"children":[{"type":"element","tagName":"a","properties":{"href":"#how-it-works","aria-label":"how it works permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"How it works","position":{"start":{"line":5,"column":4,"offset":151},"end":{"line":5,"column":16,"offset":163}}}],"position":{"start":{"line":5,"column":1,"offset":148},"end":{"line":5,"column":16,"offset":163}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Setup configures your server ready for running Ghost in production. It assumes the ","position":{"start":{"line":7,"column":1,"offset":165},"end":{"line":7,"column":84,"offset":248}}},{"type":"element","tagName":"a","properties":{"href":"/install/ubuntu/#prerequisites/"},"children":[{"type":"text","value":"recommended stack","position":{"start":{"line":7,"column":85,"offset":249},"end":{"line":7,"column":102,"offset":266}}}],"position":{"start":{"line":7,"column":84,"offset":248},"end":{"line":7,"column":136,"offset":300}}},{"type":"text","value":" and leaves your site in a production-ready state. ","position":{"start":{"line":7,"column":136,"offset":300},"end":{"line":7,"column":187,"offset":351}}}],"position":{"start":{"line":7,"column":1,"offset":165},"end":{"line":7,"column":187,"offset":351}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Setup is broken down into stages:","position":{"start":{"line":9,"column":1,"offset":353},"end":{"line":9,"column":34,"offset":386}}}],"position":{"start":{"line":9,"column":1,"offset":353},"end":{"line":9,"column":34,"offset":386}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"mysql","position":{"start":{"line":11,"column":5,"offset":392},"end":{"line":11,"column":10,"offset":397}}}],"position":{"start":{"line":11,"column":3,"offset":390},"end":{"line":11,"column":12,"offset":399}}},{"type":"text","value":" - create a specific MySQL user that is used only for talking to Ghost's database.","position":{"start":{"line":11,"column":12,"offset":399},"end":{"line":11,"column":94,"offset":481}}}],"position":{"start":{"line":11,"column":1,"offset":388},"end":{"line":11,"column":94,"offset":481}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"nginx","position":{"start":{"line":12,"column":5,"offset":486},"end":{"line":12,"column":10,"offset":491}}}],"position":{"start":{"line":12,"column":3,"offset":484},"end":{"line":12,"column":12,"offset":493}}},{"type":"text","value":" - creates an nginx configuration","position":{"start":{"line":12,"column":12,"offset":493},"end":{"line":12,"column":45,"offset":526}}}],"position":{"start":{"line":12,"column":1,"offset":482},"end":{"line":12,"column":45,"offset":526}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ssl","position":{"start":{"line":13,"column":5,"offset":531},"end":{"line":13,"column":8,"offset":534}}}],"position":{"start":{"line":13,"column":3,"offset":529},"end":{"line":13,"column":10,"offset":536}}},{"type":"text","value":" - setup SSL with letsencrypt, using ","position":{"start":{"line":13,"column":10,"offset":536},"end":{"line":13,"column":47,"offset":573}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Neilpang/acme.sh","target":"_blank","rel":"nofollow noopener noreferrer"},"children":[{"type":"text","value":"acme.sh","position":{"start":{"line":13,"column":48,"offset":574},"end":{"line":13,"column":55,"offset":581}}}],"position":{"start":{"line":13,"column":47,"offset":573},"end":{"line":13,"column":93,"offset":619}}}],"position":{"start":{"line":13,"column":1,"offset":527},"end":{"line":13,"column":93,"offset":619}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrate","position":{"start":{"line":14,"column":5,"offset":624},"end":{"line":14,"column":12,"offset":631}}}],"position":{"start":{"line":14,"column":3,"offset":622},"end":{"line":14,"column":14,"offset":633}}},{"type":"text","value":" - initialises the database","position":{"start":{"line":14,"column":14,"offset":633},"end":{"line":14,"column":41,"offset":660}}}],"position":{"start":{"line":14,"column":1,"offset":620},"end":{"line":14,"column":41,"offset":660}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"linux-user","position":{"start":{"line":15,"column":5,"offset":665},"end":{"line":15,"column":15,"offset":675}}}],"position":{"start":{"line":15,"column":3,"offset":663},"end":{"line":15,"column":17,"offset":677}}},{"type":"text","value":" - creates a special low-privilege ","position":{"start":{"line":15,"column":17,"offset":677},"end":{"line":15,"column":52,"offset":712}}},{"type":"raw","value":"<code class=\"language-text\">ghost</code>","position":{"start":{"line":15,"column":52,"offset":712},"end":{"line":15,"column":59,"offset":719}}},{"type":"text","value":" user for running Ghost","position":{"start":{"line":15,"column":59,"offset":719},"end":{"line":15,"column":82,"offset":742}}}],"position":{"start":{"line":15,"column":1,"offset":661},"end":{"line":15,"column":82,"offset":742}}},{"type":"text","value":"\n"}],"position":{"start":{"line":11,"column":1,"offset":388},"end":{"line":15,"column":82,"offset":742}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"what-if-i-want-to-do-something-else"},"children":[{"type":"element","tagName":"a","properties":{"href":"#what-if-i-want-to-do-something-else","aria-label":"what if i want to do something else permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"What if I want to do something else?","position":{"start":{"line":18,"column":4,"offset":748},"end":{"line":18,"column":40,"offset":784}}}],"position":{"start":{"line":18,"column":1,"offset":745},"end":{"line":18,"column":40,"offset":784}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":20,"column":1,"offset":786},"end":{"line":20,"column":5,"offset":790}}},{"type":"raw","value":"<code class=\"language-text\">Ghost-CLI</code>","position":{"start":{"line":20,"column":5,"offset":790},"end":{"line":20,"column":16,"offset":801}}},{"type":"text","value":" tool is designed to work with the recommended stack and is the only supported install method. However, since Ghost is a fully open-source project, and many users have different requirements, it is possible to setup and configure your site manually. ","position":{"start":{"line":20,"column":16,"offset":801},"end":{"line":20,"column":266,"offset":1051}}}],"position":{"start":{"line":20,"column":1,"offset":786},"end":{"line":20,"column":266,"offset":1051}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The CLI tool is flexible and each stage can be run individually by running ","position":{"start":{"line":22,"column":1,"offset":1053},"end":{"line":22,"column":76,"offset":1128}}},{"type":"raw","value":"<code class=\"language-text\">ghost setup &lt;stage-name&gt;</code>","position":{"start":{"line":22,"column":76,"offset":1128},"end":{"line":22,"column":102,"offset":1154}}},{"type":"text","value":" or skipped by passing the ","position":{"start":{"line":22,"column":102,"offset":1154},"end":{"line":22,"column":129,"offset":1181}}},{"type":"raw","value":"<code class=\"language-text\">--no-setup-&lt;stage-name&gt;</code>","position":{"start":{"line":22,"column":129,"offset":1181},"end":{"line":22,"column":154,"offset":1206}}},{"type":"text","value":" flag.","position":{"start":{"line":22,"column":154,"offset":1206},"end":{"line":22,"column":160,"offset":1212}}}],"position":{"start":{"line":22,"column":1,"offset":1053},"end":{"line":22,"column":160,"offset":1212}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"arguments"},"children":[{"type":"element","tagName":"a","properties":{"href":"#arguments","aria-label":"arguments permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Arguments","position":{"start":{"line":25,"column":4,"offset":1218},"end":{"line":25,"column":13,"offset":1227}}}],"position":{"start":{"line":25,"column":1,"offset":1215},"end":{"line":25,"column":13,"offset":1227}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Run ghost setup with specific stages</span>\nghost setup <span class=\"token punctuation\">[</span>stages<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Creates a new mysql user with minimal privileges </span>\nghost setup mysql\n\n<span class=\"token comment\"># Creates an nginx config file in `./system/files/` and adds a symlink to `/etc/nginx/sites-enabled/`</span>\nghost setup nginx\n\n<span class=\"token comment\"># Creates an SSL service for Ghost</span>\nghost setup ssl\n\n<span class=\"token comment\"># Create an nginx and ssl setup together</span>\nghost setup nginx ssl\n\n<span class=\"token comment\"># Creates a low-privieleged linux user called `ghost`</span>\nghost setup linux-user\n\n<span class=\"token comment\"># Creates a systemd unit file for your site</span>\nghost setup systemd\n\n<span class=\"token comment\"># Runs a database migration</span>\nghost setup migrate</code></pre></div>","position":{"start":{"line":27,"column":1,"offset":1229},"end":{"line":51,"column":4,"offset":1803}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"options"},"children":[{"type":"element","tagName":"a","properties":{"href":"#options","aria-label":"options permalink","class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Options","position":{"start":{"line":53,"column":4,"offset":1808},"end":{"line":53,"column":11,"offset":1815}}}],"position":{"start":{"line":53,"column":1,"offset":1805},"end":{"line":53,"column":11,"offset":1815}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As ","position":{"start":{"line":55,"column":1,"offset":1817},"end":{"line":55,"column":4,"offset":1820}}},{"type":"raw","value":"<code class=\"language-text\">ghost setup</code>","position":{"start":{"line":55,"column":4,"offset":1820},"end":{"line":55,"column":17,"offset":1833}}},{"type":"text","value":" runs nested commands, it also accepts options for the ","position":{"start":{"line":55,"column":17,"offset":1833},"end":{"line":55,"column":72,"offset":1888}}},{"type":"raw","value":"<code class=\"language-text\">ghost config</code>","position":{"start":{"line":55,"column":72,"offset":1888},"end":{"line":55,"column":86,"offset":1902}}},{"type":"text","value":", ","position":{"start":{"line":55,"column":86,"offset":1902},"end":{"line":55,"column":88,"offset":1904}}},{"type":"raw","value":"<code class=\"language-text\">ghost start</code>","position":{"start":{"line":55,"column":88,"offset":1904},"end":{"line":55,"column":101,"offset":1917}}},{"type":"text","value":" and ","position":{"start":{"line":55,"column":101,"offset":1917},"end":{"line":55,"column":106,"offset":1922}}},{"type":"raw","value":"<code class=\"language-text\">ghost doctor</code>","position":{"start":{"line":55,"column":106,"offset":1922},"end":{"line":55,"column":120,"offset":1936}}},{"type":"text","value":" commands.","position":{"start":{"line":55,"column":120,"offset":1936},"end":{"line":55,"column":130,"offset":1946}}}],"position":{"start":{"line":55,"column":1,"offset":1817},"end":{"line":55,"column":130,"offset":1946}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See the individual command docs, or run ","position":{"start":{"line":57,"column":1,"offset":1948},"end":{"line":57,"column":41,"offset":1988}}},{"type":"raw","value":"<code class=\"language-text\">ghost setup --help</code>","position":{"start":{"line":57,"column":41,"offset":1988},"end":{"line":57,"column":61,"offset":2008}}},{"type":"text","value":" for more detailed information.","position":{"start":{"line":57,"column":61,"offset":2008},"end":{"line":57,"column":92,"offset":2039}}}],"position":{"start":{"line":57,"column":1,"offset":1948},"end":{"line":57,"column":92,"offset":2039}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Skips a setup stage</span>\nghost setup --no-setup-mysql\nghost setup --no-setup-nginx\nghost setup --no-setup-ssl\nghost setup --no-setup-systemd\nghost setup --no-setup-linux-user\nghost setup --no-setup-migrate\n\n<span class=\"token comment\"># Configure a custom process name should be (default: ghost-local)</span>\nghost setup --pname my-process\n\n<span class=\"token comment\"># Disable stack checks</span>\nghost setup --no-stack\n\n<span class=\"token comment\"># Setup without starting Ghost</span>\nghost setup --no-start\n\n<span class=\"token comment\"># Tells the process manager not to restart Ghost on server reboot</span>\nghost setup --no-enable\n\n<span class=\"token comment\"># Install without prompting (must pass all required parameters as arguments)</span>\nghost setup --no-prompt</code></pre></div>","position":{"start":{"line":60,"column":1,"offset":2042},"end":{"line":84,"column":4,"offset":2651}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See the ","position":{"start":{"line":86,"column":1,"offset":2653},"end":{"line":86,"column":9,"offset":2661}}},{"type":"element","tagName":"a","properties":{"href":"/api/ghost-cli/config"},"children":[{"type":"text","value":"ghost config","position":{"start":{"line":86,"column":10,"offset":2662},"end":{"line":86,"column":22,"offset":2674}}}],"position":{"start":{"line":86,"column":9,"offset":2661},"end":{"line":86,"column":46,"offset":2698}}},{"type":"text","value":" command for full options.","position":{"start":{"line":86,"column":46,"offset":2698},"end":{"line":86,"column":72,"offset":2724}}}],"position":{"start":{"line":86,"column":1,"offset":2653},"end":{"line":86,"column":72,"offset":2724}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":87,"column":1,"offset":2725}}}}